@use "@material/top-app-bar/_mixins.scss" as topAppBar;
@use "@material/drawer/mixins" as drawer;
@use "@material/list/mixins" as list;
@use "@material/tab-bar/mixins" as tabBar;
@use "@material/tab/mixins" as tab;
@use "@material/tab-indicator/mixins" as tabIndicator;

// drawer
.mcd-drawer {
  @include drawer.title-ink-color($mdc-theme-text-primary-on-background);
  @include drawer.subtitle-ink-color($mdc-theme-text-primary-on-background);
  @include drawer.item-icon-ink-color($mdc-theme-text-primary-on-background);
  @include drawer.item-text-ink-color($mdc-theme-text-primary-on-background);
  @include drawer.surface-fill-color($mdc-theme-surface);
  @include drawer.item-shape-radius(0);
}

// fix for drawer positioning
.mdc-drawer {
  z-index: 12;
  background-color: $mdc-theme-surface;
  &.mdc-drawer--modal.mdc-drawer--open {
    top: 0;
    background-color: $mdc-theme-surface;
  }
}

// fix drawer display so we can have a nice drawer footer
.mdc-drawer--modal.mdc-drawer--open {
  display: flex;
}

// list
.mdc-deprecated-list {
  @include list.deprecated-item-primary-text-ink-color($mdc-theme-text-primary-on-background);
  @include list.deprecated-item-secondary-text-ink-color($mdc-theme-text-secondary-on-background);
  @include list.deprecated-item-graphic-ink-color($mdc-theme-text-secondary-on-background);
  @include list.deprecated-item-meta-ink-color($mdc-theme-text-secondary-on-background);
  @include list.deprecated-divider-color($mdc-theme-on-background);
  @include list.deprecated-group-subheader-ink-color($mdc-theme-text-primary-on-background);
  @include list.deprecated-single-line-shape-radius(0);

  .mdc-deprecated-list-item {
    color: $mdc-theme-text-primary-on-background;
  }

  .mdc-deprecated-list-item__ripple {
    overflow: hidden;
  }

  .mdc-deprecated-list-item:hover,
  .mdc-deprecated-list-item::after,
  .mdc-deprecated-list-item::before {
    background-color: transparent;
  }
  &:not(.mdc-deprecated-list--non-interactive) {
    .mdc-deprecated-list-item:hover {
      background-color: $mdc-theme-text-hint-on-dark;
      cursor: pointer;
    }
  }
}

// menu
.mdc-menu {
  background-color: $mdc-theme-surface;
}

// dialog
.mdc-dialog {
  z-index: 22;
  .mdc-dialog__container {
    width: 100%;
  }
  .mdc-dialog__surface {
    border-radius: 0px;
    max-width: 875px;
    position: relative;
    .mdc-dialog__title {
      background-color: $mdc-theme-secondary;
      padding-bottom: 20px;
      font-size: 1.4rem;
      font-weight: 600;
      color: $mdc-theme-on-secondary;
    }
    .mdc-dialog__content {
      color: $mdc-theme-text-primary-on-background;
      max-height: 70vh;
      overflow: auto;
      margin-top: 0;
      padding-top: 24px;
      padding-bottom: 24px;
      background-color: $mdc-theme-surface;

      // add options for when tabs are inside the body
      > .webiny-ui-tabs {
        margin: -24px;
        > .mdc-tab-bar {
          position: absolute;
          z-index: 10;
          @include tabBar.width(100%);
          background-color: $mdc-theme-secondary;
          .mdc-tab {
            @include tab.text-label-color($mdc-theme-on-secondary);
            @include tab.icon-color($mdc-theme-on-secondary);
            @include tab.fixed-width(auto);
            justify-content: flex-start;
            font-weight: 600;
          }
          .mdc-tab-indicator {
            padding-bottom: 5px;
            margin-top: -1px;
            @include tabIndicator.underline-color($mdc-theme-on-secondary);
            background-color: $mdc-theme-secondary;
          }
        }
        > .webiny-ui-tabs__content {
          padding-top: 50px;
          padding-bottom: 25px;
        }
      }
      > .mdc-layout-grid {
        margin: -24px;
      }
    }
    .mdc-dialog__actions {
      border-top: 1px solid $mdc-theme-on-background;
      background-color: $mdc-theme-surface;
      padding: 24px;
    }
  }
  &.mdc-dialog--open .mdc-dialog__scrim {
    opacity: 0.7;
    background-color: var(--mdc-theme-on-surface);
  }
}

// when grid is inside another grid cell, child grid should not have any padding
.mdc-layout-grid {
  > .mdc-layout-grid__inner {
    > .mdc-layout-grid__cell {
      > .mdc-layout-grid {
        padding: 0;
      }
    }
  }
}
